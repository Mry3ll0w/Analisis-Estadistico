---
title: "Mis respuestas"
output:
  html_document:
    df_print: paged
  html_notebook: default
  pdf_document: default
  
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. This will be my way
of testing the enviroment.

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 
******
# Excercise 1: Rellenar los vectores siguientes:
******
<li>v1: 1 2 3 <p>
<li>v2: 1 2 3 1 2 3 1 2 3 <p>
<li>v3: 0  10  20  30  40  50  60  70  80  90 100 <p>
<li>v4:  1000  900  800  700  600  500  400  300  200  100    0<p>
<li>v5: 1 1 1 1 1<p>

```{r,eval=TRUE,echo=TRUE}
v1 <- c(1,2,3) #Se llama c() para indicar que se separa por comas el vecto
v2 <- rep(v1, times=3)
v2
v3 <- seq(0,100, by = 10)
v3
v4 <- seq(1000, 100, by = -100 )
v4
v5 <- rep(1,times=5)

```

******

# Excercise 2: Calculos a nivel de vector

******
<ol>
<li>Cacular la suma, media, rango, m?ximo y m?nimo de un vector de n?meros que contiene valores desde 1,500 hasta 500 step -2.
<li> Ordenar el vector en orden creciente
<li>Contar cuantos elementos hay en el vector.
</ol>

#### 1) Suma, media, rango, máximo y mínimo de V
```{r,eval=TRUE,echo=TRUE}

# Creamos un vector con esas características
v <- seq(1500, 500, by=-2)
suma <- sum(v)
suma

media <- mean(v)
media

max <- max(v)
max

min <- min(v)
min

```


<li>Contar cuantos elementos hay en el vector.

#### 2) Ordenar el vector en orden creciente
```{r,eval=TRUE,echo=TRUE}

# Creamos un vector con esas características
v <- seq(1500, 500, by=-2)
vSorted <- sort(v)
plot(vSorted)

```

#### 3) Contar cuantos elementos hay en el vector.
```{r,eval=TRUE,echo=TRUE}

# Creamos un vector con esas características
v <- seq(1500, 500, by=-2)
muestra <- length(v)
muestra
```

******
# Excercise 3: Cálculos ariméticos con vectores numéricos
******

#### Crear un vector con valores de 1 a 20.
```{r,eval=TRUE,echo=TRUE}

v <-c(1:20)
v

```

#### Restar 1 a todos los elementos del vector
```{r,eval=TRUE,echo=TRUE}
v <- c(1 :20) 
v - 1 # EL operador se aplicará a todos los elementos contenidos en el vector
```

#### Para cada elemento, calcular su cuadrado
```{r,eval=TRUE,echo=TRUE}

v <- c(1 :20) 
v ^ 2 

```


******
# Vectores numéricos
******
Disponemos de un vector "quantity" y un vector de precios "price": <p>
<ul>
<li>quantity: 20  3  4  5  6  7  8  5  2 12 
<li>price: 2  4  5 63 40 21 12  6  7  4
</ul>

Cada posición del vector quantity es la cantidad de productos vendidos. El precio está guardado en la misma posición del vector price. 
Calcular el precio total de todos los productos.
```{r,eval=TRUE,echo=TRUE}

quantity <- c(20,3,4,5,6,7,8,5,2,12) 
price <- c(2,4,5,63,40,21,12,6,7,4)

# Calcular el precio total se puede hacer multiplicando ambos, ya que 
# tienen el mismo tamaño, por lo que se mútiplican las posiciones
total_price_vector <- quantity * price
sum(total_price_vector)

```

******
# Vectores numéricos y lógicos
******
Dados los siguientes vectores:<p>
x: 3  4  6 -5  1  3  9 10 -1  0 -4<p>
y: -4   4   6   5   1   3   9   1 -10   5  14<p>
Realizar los cálculos siguientes:
<ol>
<li> Cuántos elementos del vector x son positivos?

```{r, echo=TRUE, eval=TRUE}
x <- c(3,4,6,-5,1,3,9,10,-1,0, -4)
y <- c(-4,4,6,5,13,9,1,-10,5)

posx <- x>0
posy <- y>0

posx 
posy

```


<li> Qué elementos del vector x son mayores que los elementos del vector y (considerando posición por posición).
```{r, echo=TRUE, eval=TRUE}

#elements where x > y: index, elements, how many
which( x>y )
x[ x>y ] # Decimos que compare dentro del intervalo de X, no de Y
length( which(x>y) )

```

<li> Borrar del vector x los elementos que son iguales a los elementos que ocupan la misma posición en y.
```{r, eval=TRUE, echo=TRUE}
# Guardamos en X los elementos de y que no estan en X 
resDiffXY <- x[ !(x==y)] 
resDiffXY
```


******
# Factors
******
El siguiente vector pertenece al nivel de estudios de 20 personas: <p>
studies <- c("n", "p", "s", "p", "s", "t", "o", "s", "o" , "p", "p","s", "s","t","p","t","o","n","p","o")<p>
<ol>
<li> Calcular cuántos tipos de educación hay.
```{r, echo=TRUE, eval=TRUE}
studies <- c("n", "p", "s", "p", "s", "t", "o", "s", "o" , "p", "p","s", "s","t","p","t","o","n","p","o")
factorized_studies <- factor(studies) # cambio a variable categórica
levels(factorized_studies) # Etiquetas de cada tipo de valor 
length((levels(factorized_studies))) # contamos cuantas etiquetas != hay

```

<li> Para hacerlo más comprensible, cambiar el valor de los niveles a los siguientes:<p>
n : none <p>
p : primary <p>
s : secondary <p>
t : tertiary <p>
o : other <p>

```{r, eval=TRUE, echo=TRUE}
changedLevelsOfStudies <- levels(factorized_studies)
changedLevelsOfStudies <- c("none", "primary", "secondary", "tertiary", "other")
changedLevelsOfStudies

```

<li> Mostrar cuantas personas hay para cada tipo de educaci?n.
```{r, eval=TRUE, echo=TRUE}
table(factorized_studies)
```
</ol>

******
# Matrices
******
<ol>
<li> Generar una matriz de 10 filas y 6 columnas, cuyos valores de cada columna son los m?ltiples del ?ndice de la columna, tal como sigue:<p>

    
 [1,]  1  2  3  4  5  6<p>
 [2,]  2  4  6  8 10 12<p>
 [3,]  3  6  9 12 15 18<p>
 [4,]  4  8 12 16 20 24<p>
 [5,]  5 10 15 20 25 30<p>
 [6,]  6 12 18 24 30 36<p>
 [7,]  7 14 21 28 35 42<p>
 [8,]  8 16 24 32 40 48<p>
 [9,]  9 18 27 36 45 54<p>
[10,] 10 20 30 40 50 60<p>

```{r, echo=TRUE, eval=TRUE}
# Definicion de la matriz

matrix <- matrix (c(1:60), nrow =10, ncol=6 )
matrix

```

<li> Etiquetar cada columna como: M1, M2, ... M6
```{r, echo=TRUE, eval=TRUE}
# Creamos las nuevas columnas
nom_columns <- paste0("M", 1:ncol(matrix)) # Concatena string
colnames(matrix) <- nom_columns
matrix

```
<li> Borrar las dos últimas filas.
```{r, echo=TRUE}
matrix_without_last <- matrix[-10,] # Puedes quitar 1
matrix <- matrix[c(-9,-10),] # Eliminamos varias filas a la vez
matrix


```

<li> Cambiar el signo de los valores de la columna 3.
```{r, echo=TRUE, eval=TRUE}
matrix[3,] <- matrix[3,]*-1 # OJO hay que poner , para sacar la fila
matrix
```
<li> Mostrar el contenido de la columna 2
```{r, echo=TRUE,eval=TRUE}
matrix[,2] # POR Número
matrix[, "M2"] # Al tener etiqueta podemos usar nombre de etiqueta

```

</ol>



******
# Data Frames ("ejercicio avanzado")
******

<ol>
<li> Leer el fichero "bank.csv" 
(http://archive.ics.uci.edu/ml/datasets/Bank+Marketing) y guardar los datos en un data frame.
Verificar que la informaci?n se ha le?do correctamente en el data.frame.
```{r, echo=TRUE, eval=TRUE}
csv_location <- "../BankCSV/bank.csv"
data_bank <- read.csv(csv_location,sep=";",na.strings = "NA")
head(data_bank)

```

<li> Calcular el promedio de edad.
```{r, echo=TRUE, eval=TRUE}

mean(data_bank$age)
```

<li> Calcular cuantos trabajos diferentes hay en la muestra.
```{r, echo=TRUE, eval=TRUE}
unique(data_bank$job)
# Obtenemos el numero
length(unique(data_bank$job))

```

<li> Calcular cuantas personas hay de cada tipo de trabajo.
```{r, echo=TRUE,eval=TRUE}

table(data_bank$job)# Hacemos una tabla para c

```

<li> Calcular cuantos "entprepreneurs" hay.
```{r, echo=TRUE,eval=TRUE}

table( data_bank$job )['entrepreneur']# Hacemos una tabla para c


```
<li> Seleccionar los individuos que son emprendedores y calcular su promedio de edad.
```{r, echo=TRUE,eval=TRUE}

entreReg <- data_bank[ data_bank$job == 'entrepreneur',]# Pillamos solo las filas de entrepreneur
nrow(entreReg)
mean(entreReg$age)

```

<li> Seleccionar los emprenedores cuya edad es inferior al promedio de edad de los emprenedeores. ?Cu?ntos son?
```{r, echo=TRUE, eval=TRUE}
avgEntre <- mean(entreReg$age)
youngEntreReg <- entreReg[entreReg$age < avgEntre, ]
nrow(youngEntreReg)


```

<li> ?Cu?l es el nivel de estudios de estos emprendedores j?venes?
```{r, echo=TRUE, eval=TRUE}

unique(youngEntreReg$education)

```

<li> Borrar del data frame todos los emprendedores j?venes.
```{r, echo=TRUE,eval=TRUE}
# Pillamos los entrepreneurs jovenes, con which pillamos los indices
entrepReg <- which(data_bank$job == 'entrepreneur' & data_bank$age < avgEntre)
nrow(data_bank)
data_bank <- data_bank[-entrepReg,]
#despues
nrow(data_bank)


```
</ol>



























